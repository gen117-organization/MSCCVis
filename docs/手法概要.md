# 概要
マイクロサービスのコードクローンの分析を行う．
マイクロサービスをまたぐコードクローンを`Inter-service clone`，サービス内のコードクローンを`Within-service clone`とする．クローンの範囲での分類に加えて，プロダクションコードのみクローンセットを`Production Cloneset`，テスティングコードのみのクローンセットを`Testing Cloneset`，どちらも混ざっているクローンセットを`Mixed Cloneset`として6種類にコードクローンを分類して分析する．
分析はクローン率(クローンになっている行の割合)と修正の有無について行う．

# クローン率の算出範囲
- コメント，空行，生成コードの除去は行わず，これらも分母に含める．

# プロダクションコードとテストコードの判定
- パスまたはファイル名に大文字小文字を区別せず`test`が含まれるファイルをTesting Codeとする．
- Testing Codeのファイルから検出されたクローンのコード片をTesting Codeのクローン片とする．

# 修正有無の判定方法
- クローン行への変更は`git diff`で検出する．
- 分析対象コミットはタグ付きコミットの直近5件を用いる想定だが，タグが5件存在するプロジェクトが少ないため，コミット粒度の設定は別案を検討中．
- `git diff`でのリネームは新規ファイル扱いとし，修正対象に含めない．

# Mixed Clonesetの扱い
- 単純な報告を目的とし，Mixedは独立カテゴリとして件数や比率を提示する．Production/Testingへの比率按分や重み付けは行わない．

# クローン検出ツールとパラメータ
- CCFinderSW(Type-1, Type-2を対象としたクローン検出ツール)を使用する．

# 分析単位と集計軸
- Inter/Within × Production/Testing/Mixedの6分類に加え，サービス単位とリポジトリ単位の両方で出力する．

# 対象プロジェクトの選定
- 同一プログラミング言語のコードベースがサービス間にまたがっている．
